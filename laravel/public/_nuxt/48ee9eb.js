(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{281:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(12),o=r(134),c=r(135),f=(r(64),r(77)),l=r.n(f),m=function(){function e(){Object(o.a)(this,e)}var t,r,f,m,v;return Object(c.a)(e,null,[{key:"fetchBooks",value:(v=Object(n.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/books");case 2:return t=e.sent,data=t.data,e.abrupt("return",data.data);case 5:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)})},{key:"postBookData",value:(m=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/api/books",t);case 2:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"fetchBook",value:(f=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/books/".concat(t));case 2:return r=e.sent,data=r.data,e.abrupt("return",data.data);case 5:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"putBook",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.a.put("/api/books/".concat(t),data);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"deleteBook",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("/api/books/".concat(t));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}()},290:function(e,t,r){"use strict";r.r(t);r(40),r(31),r(39),r(17),r(65),r(32),r(66);var n=r(25),o=r(12),c=(r(64),r(1)),f=r(281);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=c.a.extend({asyncData:function(){return Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.fetchBooks();case 2:return t=e.sent,e.abrupt("return",{books:t});case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{form:{title:"",author:""},books:[]}},methods:{onClickAdd:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.postBookData(m({},e.form));case 2:return t.next=4,f.a.fetchBooks();case 4:e.books=t.sent,e.form={title:"",author:""};case 6:case"end":return t.stop()}}),t)})))()},onClickDelete:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.deleteBook(e);case 2:return r.next=4,f.a.fetchBooks();case 4:t.books=r.sent;case 5:case"end":return r.stop()}}),r)})))()}}}),k=r(47),component=Object(k.a)(v,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h2",[e._v("List")]),e._v(" "),e._l(e.books,(function(r,i){return t("ul",{key:i},[t("li",[e._v(e._s(r.title))]),e._v(" "),t("nuxt-link",{attrs:{to:{name:"book-detail-id",params:{id:r.id}}}},[t("button",[e._v("詳細")])]),e._v(" "),t("button",{on:{click:function(t){return e.onClickDelete(r.id)}}},[e._v("削除")])],1)})),e._v(" "),t("h3",[e._v("新規追加")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],attrs:{type:"text",placeholder:"title"},domProps:{value:e.form.title},on:{input:function(t){t.target.composing||e.$set(e.form,"title",t.target.value)}}}),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.author,expression:"form.author"}],attrs:{type:"text",placeholder:"author"},domProps:{value:e.form.author},on:{input:function(t){t.target.composing||e.$set(e.form,"author",t.target.value)}}}),t("br"),e._v(" "),t("button",{on:{click:e.onClickAdd}},[e._v("追加")])],2)}),[],!1,null,null,null);t.default=component.exports}}]);